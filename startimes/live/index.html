<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>年会直播</title>
  <link rel="stylesheet" href="./css/bootstrap.css">
  <style>
    * {
      margin: 0;
      padding: 0;
    }
    .content {
      width: 90%;
      margin: 0 auto;
    }
  </style>
</head>

<body>
  <div class="content">
    <div id="my-player" class="col-sm-12 col-md-12"></div>
  </div>
  <script src="./js/jquery.min.js" charset="utf-8"></script>
  <!-- <script src="./js/template.js" charset="utf-8"></script> -->
  <!-- <script src="./js/util.js" charset="utf-8"></script> -->
  <script src="./ckplayer/ckplayer.js" charset="utf-8"></script>
  <script>
    var browser = {
      versions: function() {
        var u = navigator.userAgent,
          app = navigator.appVersion;
        return {
          trident: u.indexOf('Trident') > -1, //IE内核
          presto: u.indexOf('Presto') > -1, //opera内核
          webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
          gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
          mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
          ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
          android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
          iPhone: u.indexOf('iPhone') > -1, //是否为iPhone或者QQHD浏览器
          iPad: u.indexOf('iPad') > -1, //是否iPad
          webApp: u.indexOf('Safari') == -1 //是否web应该程序，没有头部与底部
        };
      }(),
      language: (navigator.browserLanguage || navigator.language).toLowerCase() //检测浏览器语言
    }
    var playerUrl = 'http://d37gxy1s0uw2pc.cloudfront.net/html/vod/testliangc60064/live.m3u8';
    var flashvars = {
      f: 'ckplayer/m3u8.swf',
      a: playerUrl,
      s: 4,
      c: 0,
      p: 1
    };
    var params = {
      bgcolor: '#FFF',
      allowFullScreen: true,
      allowScriptAccess: 'always',
      wmode: 'transparent'
    };
    var video = [playerUrl + '->application/x-mpegURL'];
    var width = $('#my-player').width();
    var height = width * 9 / 16;
    var isMobile = browser.versions.mobile || browser.versions.android || browser.versions.ios;
    CKobject.embed('./ckplayer/ckplayer.swf', 'my-player', 'ckplayer_a1', width, height, isMobile, flashvars, video, params);
  </script>
</body>

</html>
