{"version":3,"sources":["webpack:///static/js/views/index.ae0840d2f8b63b42333c.js","webpack:///./src/service/index.js","webpack:///./src/views/index/App.vue?56ca","webpack:///./src/views/index/App.vue","webpack:///./src/views/index/index.js","webpack:///./src/utils/api.js","webpack:///src/views/index/App.vue","webpack:///./src/utils/utils.js","webpack:///./src/utils/request.js"],"names":["webpackJsonp","0jG4","module","__webpack_exports__","__webpack_require__","d","addCase","getInquiryRecord","__WEBPACK_IMPORTED_MODULE_0__utils_utils__","__WEBPACK_IMPORTED_MODULE_1__utils_api__","__WEBPACK_IMPORTED_MODULE_1__utils_api___default","n","payload","resolve","reject","Object","a","baseUrl","20Wj","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","_v","staticStyle","background","class","active","current","domProps","innerHTML","_s","type","sex","birthdate","directives","name","rawName","value","now","expression","birthdateCurrent","_l","year","maxYear","month","day","maxDay","qrcodeResult","src","codeDataUrl","width","height","errorMessage","_e","staticRenderFns","esExports","4u6v","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f788b8ca_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","Oqbq","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App_vue__","app","el","h","use","VsUZ","exports","window","bIbA","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1__utils_utils__","__WEBPACK_IMPORTED_MODULE_2__service__","__WEBPACK_IMPORTED_MODULE_3_qrcode__","__WEBPACK_IMPORTED_MODULE_3_qrcode___default","Date","data","debug","list","getFullYear","getMonth","getDay","qrcode","created","_this","monthShow","dayShow","sid","document","onkeydown","e","changeKey","which","methods","key","index","indexOf","mainUp","birthdateUp","mainDown","birthdateDown","mainChange","birthdateChange","result","res","JSON","parse","responseCode","localStorage","setItem","casecode","sessionid","toDataURL","err","url","getResult","getDate","lr","getItem","setInterval","localDate","finish","location","href","lJBU","oAV5","ottRequest","getNowFormatDate","getUrlKey","obj2Url","__WEBPACK_IMPORTED_MODULE_1__request_js__","_url","_params","_method","_success","_error","ajax","method","dataType","success","response","error","date","strDate","getHours","getMinutes","getSeconds","RegExp","exec","length","decodeURIComponent","replace","obj","arr","i","hasOwnProperty","push","encodeURIComponent","join","vLgD","options","empty","escape","opt","sync","username","password","timeout","accepts","script","json","xml","html","text","abortTimeout","xhr","XMLHttpRequest","onreadystatechange","readyState","clearTimeout","status","responseType","responseText","getResponseHeader","split","console","log","responseXML","trim","abort","statusText","open","setTimeout","send"],"mappings":"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","file":"static/js/views/index.ae0840d2f8b63b42333c.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ \"0jG4\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return addCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getInquiryRecord; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_utils__ = __webpack_require__(\"oAV5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_api__ = __webpack_require__(\"VsUZ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_api___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__utils_api__);\n\n\n\n/**\r\n * 添加病人\r\n * @author yang.xiaolong\r\n * @description 2018-3-14\r\n * @version     1.0.0\r\n * @param       {object} payload\r\n * @param       {function} resolve\r\n * @param       {function} reject\r\n * @return      {null}\r\n */\nvar addCase = function addCase(payload, resolve, reject) {\n  Object(__WEBPACK_IMPORTED_MODULE_0__utils_utils__[\"d\" /* ottRequest */])(__WEBPACK_IMPORTED_MODULE_1__utils_api___default.a.baseUrl + __WEBPACK_IMPORTED_MODULE_1__utils_api___default.a.addCase + '?' + Object(__WEBPACK_IMPORTED_MODULE_0__utils_utils__[\"c\" /* obj2Url */])(payload), {}, 'POST', resolve, reject);\n};\n\n/**\r\n * 获取问诊结果\r\n * @author yang.xiaolong\r\n * @description 2018-3-14\r\n * @version     1.0.0\r\n * @param       {object} payload\r\n * @param       {function} resolve\r\n * @param       {function} reject\r\n * @return      {null}\r\n */\nvar getInquiryRecord = function getInquiryRecord(payload, resolve, reject) {\n  Object(__WEBPACK_IMPORTED_MODULE_0__utils_utils__[\"d\" /* ottRequest */])(__WEBPACK_IMPORTED_MODULE_1__utils_api___default.a.baseUrl + __WEBPACK_IMPORTED_MODULE_1__utils_api___default.a.getInquiryRecord + '?' + Object(__WEBPACK_IMPORTED_MODULE_0__utils_utils__[\"c\" /* obj2Url */])(payload), {}, 'POST', resolve, reject);\n};\n\n/***/ }),\n\n/***/ \"20Wj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"header\"},[_vm._v(\"自助诊疗\")]),_vm._v(\" \"),_c('div',{staticClass:\"body\",staticStyle:{\"background\":\"url('../static/bg.jpg')\"}},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"row clearfix\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"患者选择\")]),_vm._v(\" \"),_c('div',{staticClass:\"input change-type\"},[_c('div',{staticClass:\"value\",class:{active:_vm.current=='type'},domProps:{\"innerHTML\":_vm._s(_vm.type?'代述':'自己')}})])]),_vm._v(\" \"),_c('div',{staticClass:\"row clearfix\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"性别\")]),_vm._v(\" \"),_c('div',{staticClass:\"input change-type\"},[_c('div',{staticClass:\"value\",class:{active:_vm.current=='sex'},domProps:{\"innerHTML\":_vm._s(_vm.sex?'女':'男')}})])]),_vm._v(\" \"),_c('div',{staticClass:\"row clearfix\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"出生日期\")]),_vm._v(\" \"),_c('div',{staticClass:\"input select-type\"},[_c('div',{staticClass:\"value\",class:{active:_vm.current=='birthdate'},domProps:{\"innerHTML\":_vm._s(_vm.birthdate)}})])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"button\",class:{active:_vm.current=='button'}},[_vm._v(\"开始诊断\")])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.now==='birthdate'),expression:\"now==='birthdate'\"}],staticClass:\"birthdate-select\"},[_c('div',{staticClass:\"birthdate-body\"},[_c('div',{staticClass:\"year\"},[_c('div',{staticClass:\"title\",class:{active:_vm.birthdateCurrent=='year'}},[_vm._v(\"年\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content\"},[_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s(_vm.year - 6 + n)}})}),_vm._v(\" \"),_c('li',{staticClass:\"active\",domProps:{\"innerHTML\":_vm._s(_vm.year)}}),_vm._v(\" \"),_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s((_vm.year + n) <= _vm.maxYear ? (_vm.year + n) : '')}})})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"month\"},[_c('div',{staticClass:\"title\",class:{active:_vm.birthdateCurrent=='month'}},[_vm._v(\"月\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content\"},[_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s((_vm.month - 6 + n) > 0 ? (_vm.month - 6 + n) : '')}})}),_vm._v(\" \"),_c('li',{staticClass:\"active\",domProps:{\"innerHTML\":_vm._s(_vm.month)}}),_vm._v(\" \"),_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s((_vm.month + n) <= 12 ? (_vm.month + n) : '')}})})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_c('div',{staticClass:\"title\",class:{active:_vm.birthdateCurrent=='day'}},[_vm._v(\"日\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content\"},[_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s((_vm.day - 6 + n) > 0 ? (_vm.day - 6 + n) : '')}})}),_vm._v(\" \"),_c('li',{staticClass:\"active\",domProps:{\"innerHTML\":_vm._s(_vm.day)}}),_vm._v(\" \"),_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s((_vm.day + n) <= _vm.maxDay ? (_vm.day + n) : '')}})})],2)])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qrcode),expression:\"qrcode\"}],staticClass:\"birthdate-select\"},[_c('div',{staticClass:\"code-result\",domProps:{\"innerHTML\":_vm._s(_vm.qrcodeResult)}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"code\"}},[_c('img',{attrs:{\"src\":_vm.codeDataUrl,\"width\":\"250px\",\"height\":\"250px\"}})])]),_vm._v(\" \"),(_vm.debug)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage),expression:\"errorMessage\"}],staticClass:\"error\"},[_vm._v(\"\\r\\n    \"+_vm._s(_vm.errorMessage)+\"\\r\\n  \")]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"4u6v\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"bIbA\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f788b8ca_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"20Wj\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"lJBU\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f788b8ca_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"Oqbq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue__ = __webpack_require__(\"4u6v\");\n\n\n\nvar app = new __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App_vue__[\"a\" /* default */]);\n  }\n});\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use({\n  app: app\n});\n\n/***/ }),\n\n/***/ \"VsUZ\":\n/***/ (function(module, exports) {\n\nmodule.exports = {\n  baseUrl: window.baseUrl || '',\n  addCase: '/fushionbaby-app/inquiry/addCase', // 添加病人\n  getInquiryRecord: '/fushionbaby-app/inquiry/getInquiryRecord' // 获取最新问诊结果\n};\n\n/***/ }),\n\n/***/ \"bIbA\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_utils__ = __webpack_require__(\"oAV5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__service__ = __webpack_require__(\"0jG4\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_qrcode__ = __webpack_require__(\"71e1\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_qrcode___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_qrcode__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\nvar now = new Date();\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      debug: true,\n      errorMessage: '',\n      type: 0,\n      sex: 0,\n      birthdate: '',\n      current: 'type',\n      now: 'main',\n      list: ['type', 'sex', 'birthdate', 'button'],\n      year: now.getFullYear(),\n      month: now.getMonth() + 1,\n      day: now.getDay(),\n      maxYear: now.getFullYear(),\n      maxDay: 31,\n      birthdateCurrent: 'year',\n      qrcode: false,\n      qrcodeResult: '等待连接',\n      codeDataUrl: ''\n    };\n  },\n  created: function created() {\n    var _this = this;\n    var monthShow = this.month < 10 ? '0' + this.month : this.month;\n    var dayShow = this.day < 10 ? '0' + this.day : this.day;\n    this.birthdate = this.year + '-' + monthShow + '-' + dayShow;\n    this.sid = Object(__WEBPACK_IMPORTED_MODULE_1__utils_utils__[\"b\" /* getUrlKey */])('sid');\n    // 绑定按键\n    document.onkeydown = function (e) {\n      _this.changeKey(e.which);\n    };\n  },\n\n  methods: {\n    changeKey: function changeKey(key) {\n      var index = this.list.indexOf(this.current);\n      switch (key) {\n        case 38:\n          // up\n          if (this.now === 'main') {\n            this.mainUp(index);\n          } else if (this.now === 'birthdate') {\n            this.birthdateUp();\n          }\n          break;\n        case 40:\n          // down\n          if (this.now === 'main') {\n            this.mainDown(index);\n          } else if (this.now === 'birthdate') {\n            this.birthdateDown();\n          }\n          break;\n        case 39:\n          // right\n          if (this.now === 'main' && this.current === 'birthdate') {\n            this.now = 'birthdate';\n          } else if (this.now === 'main') {\n            this.mainChange();\n          } else if (this.now === 'birthdate') {\n            this.birthdateChange('right');\n          }\n          break;\n        case 37:\n          // left\n          if (this.now === 'main') {\n            this.mainChange();\n          } else if (this.now === 'birthdate') {\n            this.birthdateChange('left');\n          }\n          break;\n        case 13:\n          // enter\n          if (this.now === 'birthdate') {\n            var monthShow = this.month < 10 ? '0' + this.month : this.month;\n            var dayShow = this.day < 10 ? '0' + this.day : this.day;\n            this.birthdate = this.year + '-' + monthShow + '-' + dayShow;\n            this.now = 'main';\n          } else if (this.now === 'main' && this.current === 'birthdate') {\n            this.now = 'birthdate';\n          } else if (this.now === 'main' && this.current === 'button') {\n            var _this = this;\n            Object(__WEBPACK_IMPORTED_MODULE_2__service__[\"a\" /* addCase */])({\n              sid: this.sid,\n              sex: this.sex,\n              birthdate: this.birthdate,\n              type: this.type\n            }, function (result) {\n              var res = typeof result === 'string' ? JSON.parse(result) : result;\n              if (res.responseCode === '0') {\n                localStorage.setItem('casecode', res.data.casecode);\n                localStorage.setItem('sessionid', res.data.sessionid);\n                localStorage.setItem('localDate', Object(__WEBPACK_IMPORTED_MODULE_1__utils_utils__[\"a\" /* getNowFormatDate */])());\n\n                __WEBPACK_IMPORTED_MODULE_3_qrcode___default.a.toDataURL(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({\n                  'casecode': res.data.casecode,\n                  'sessionid': res.data.sessionid\n                }), function (err, url) {\n                  if (err) {\n                    _this.errorMessage = '生成二维码失败：' + err;\n                  } else {\n                    _this.codeDataUrl = url;\n                    _this.qrcode = true;\n                    _this.getResult();\n                  }\n                });\n              } else {\n                _this.errorMessage = '请求结果返回错误，结果为：' + __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(res);\n              }\n            }, function (err) {\n              _this.errorMessage = '请求服务器错误，错误日志为：' + err;\n            });\n          }\n          break;\n      }\n    },\n    mainUp: function mainUp(index) {\n      if (index > 0) {\n        this.current = this.list[index - 1];\n      }\n    },\n    mainDown: function mainDown(index) {\n      if (index < 3) {\n        this.current = this.list[index + 1];\n      }\n    },\n    mainChange: function mainChange() {\n      if (this.current === 'type') {\n        this.type = this.type ? 0 : 1;\n      } else if (this.current === 'sex') {\n        this.sex = this.sex ? 0 : 1;\n      }\n    },\n    birthdateUp: function birthdateUp() {\n      switch (this.birthdateCurrent) {\n        case 'year':\n          this.year = this.year - 1;\n          break;\n        case 'month':\n          this.month = this.month > 1 ? this.month - 1 : this.month;\n          this.maxDay = new Date(this.year, this.month, 0).getDate();\n          this.day = this.day > this.maxDay ? this.maxDay : this.day;\n          break;\n        case 'day':\n          this.day = this.day > 1 ? this.day - 1 : this.day;\n          break;\n      }\n    },\n    birthdateDown: function birthdateDown() {\n      switch (this.birthdateCurrent) {\n        case 'year':\n          this.year = this.year < this.maxYear ? this.year + 1 : this.year;\n          break;\n        case 'month':\n          this.month = this.month < 12 ? this.month + 1 : this.month;\n          this.maxDay = new Date(this.year, this.month, 0).getDate();\n          this.day = this.day > this.maxDay ? this.maxDay : this.day;\n          break;\n        case 'day':\n          this.day = this.day < this.maxDay ? this.day + 1 : this.day;\n          break;\n      }\n    },\n    birthdateChange: function birthdateChange(lr) {\n      if (this.birthdateCurrent === 'year') {\n        this.birthdateCurrent = lr === 'left' ? 'year' : 'month';\n      } else if (this.birthdateCurrent === 'month') {\n        this.birthdateCurrent = lr === 'left' ? 'year' : 'day';\n      } else if (this.birthdateCurrent === 'day') {\n        this.birthdateCurrent = lr === 'left' ? 'month' : 'day';\n      }\n    },\n    getResult: function getResult() {\n      var sessionid = localStorage.getItem('sessionid');\n      var casecode = localStorage.getItem('casecode');\n      var _this = this;\n      setInterval(function () {\n        Object(__WEBPACK_IMPORTED_MODULE_2__service__[\"b\" /* getInquiryRecord */])({\n          sessionid: sessionid,\n          casecode: casecode,\n          localDate: ''\n        }, function (result) {\n          var res = typeof result === 'string' ? JSON.parse(result) : result;\n          if (res.responseCode === '0') {\n            if (res.data.finish === 'star' || res.data.finish === 'finish') {\n              _this.qrcodeResult = '设备已连接';\n              location.href = './result.html';\n            }\n          } else {\n            _this.errorMessage = '请求结果返回错误，结果为：' + __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(res);\n          }\n        }, function (err) {\n          _this.errorMessage = '请求服务器错误，错误日志为：' + err;\n        });\n      }, 3000);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"lJBU\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"oAV5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export getLocal */\n/* unused harmony export setLocal */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return ottRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getNowFormatDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getUrlKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return obj2Url; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__request_js__ = __webpack_require__(\"vLgD\");\n\n\n\n/**\n * 获取localStorage中的值\n * @author yang.xiaolong\n * @description 2017-11-01:默认会对String类型进行解析,防止数据类型错误\n * @version     1.0.0\n * @param       {String} _key\n * @return      {Json}\n */\nvar getLocal = function getLocal(_key) {\n  return JSON.parse(localStorage.getItem(_key));\n};\n\n/**\n * 设置localStorage\n * @author yang.xiaolong\n * @description 2017-11-01:默认会对json进行格式化操作,防止存入的为[object object]这种错误\n * @version     1.0.0\n * @param       {String} _key\n * @param       {Json} _value\n */\nvar setLocal = function setLocal(_key, _value) {\n  localStorage.setItem(_key, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_value));\n};\n\n/**\n * post方式获取数据\n * @author yang.xiaolong\n * @description 2017-10-25:需要传入服务Ip地址,参数对象,成功的函数,失败的处理函数\n * @version     1.0.0\n * @param       {String} _url\n * @param       {obj} _params\n * @param       {func} _success\n * @param       {func} _error\n * @return      {Null}\n */\nvar ottRequest = function ottRequest(_url, _params, _method, _success, _error) {\n  __WEBPACK_IMPORTED_MODULE_1__request_js__[\"a\" /* default */].ajax({\n    'url': _url,\n    'data': _params,\n    'method': _method,\n    'dataType': 'json',\n    success: function success(response) {\n      _success && _success(response);\n    },\n    error: function error(err) {\n      _error && _error(err);\n    }\n  });\n};\n\n/**\r\n * 格式化当前日期\r\n * @author yang.xiaolong\r\n * @description 2018-03-14\r\n * @version     1.0.0\r\n * @return      {[type]}\r\n */\nvar getNowFormatDate = function getNowFormatDate() {\n  var date = new Date();\n  var seperator1 = '-';\n  var seperator2 = ':';\n  var month = date.getMonth() + 1;\n  var strDate = date.getDate();\n  if (month >= 1 && month <= 9) {\n    month = '0' + month;\n  }\n  if (strDate >= 0 && strDate <= 9) {\n    strDate = '0' + strDate;\n  }\n  var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate + ' ' + date.getHours() + seperator2 + date.getMinutes() + seperator2 + date.getSeconds();\n  return currentdate;\n};\n\n/**\r\n * 获取url参数\r\n * @author yang.xiaolong\r\n * @description 2017-10-25:根据key值获取url路径上的value参数\r\n * @version     1.0.0\r\n * @param       {String} name\r\n * @return      {String}\r\n */\nvar getUrlKey = function getUrlKey(name) {\n  var key = new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || [''];\n  return key.length > 1 ? decodeURIComponent(key[1].replace(/\\+/g, '%20')) || null : '';\n};\n/**\r\n * 格式化对象成url参数\r\n * @author yang.xiaolong\r\n * @description 2018-03-14\r\n * @version     1.0.0\r\n * @param       {Object} obj\r\n * @return      {String}\r\n */\nvar obj2Url = function obj2Url(obj) {\n  if (obj && obj instanceof Object) {\n    var arr = [];\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        if (i === 'token') continue;\n        if (typeof obj[i] === 'function') {\n          obj[i] = obj[i]();\n        }\n        if (obj[i] === null) {\n          obj[i] = '';\n        }\n        arr.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));\n      }\n    }\n    return arr.join('&');\n  } else {\n    return obj;\n  }\n};\n\n/***/ }),\n\n/***/ \"vLgD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n/**\r\n * 仿jquery的ajax请求\r\n * @author yang.xiaolong\r\n * @description 2017-10-25:使用方法和jquery类似\r\n * @version     1.0.0\r\n * @param       {obj} options\r\n * @return      {null}\r\n */\nfunction ajax(options) {\n  function empty() {}\n\n  function obj2Url(obj) {\n    if (obj && obj instanceof Object) {\n      var arr = [];\n      for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          if (i === 'token') {\n            continue;\n          }\n          if (typeof obj[i] === 'function') {\n            obj[i] = obj[i]();\n          }\n          if (obj[i] === null) {\n            obj[i] = '';\n          }\n          arr.push(escape(i) + '=' + escape(obj[i]));\n        }\n      }\n      return arr.join('&');\n    } else {\n      return obj;\n    }\n  }\n  var opt = {\n    url: '', // 请求地址\n    sync: true, // true，异步 | false 同步，会锁死浏览器，并且open方法会报浏览器警告\n    method: 'GET', // 提交方法\n    data: null, // 提交数据\n    username: null, // 账号\n    password: null, // 密码\n    dataType: null, // 返回数据类型\n    success: empty, // 成功返回回调\n    error: empty, // 错误信息回调\n    timeout: 0 // 请求超时ms\n  };\n  for (var i in options) {\n    if (options.hasOwnProperty(i)) {\n      opt[i] = options[i];\n    }\n  }\n\n  var accepts = {\n    script: 'text/javascript, application/javascript, application/x-javascript',\n    json: 'application/json',\n    xml: 'application/xml, text/xml',\n    html: 'text/html',\n    text: 'text/plain'\n  };\n  var abortTimeout = null;\n  var xhr = new XMLHttpRequest();\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4) {\n      xhr.onreadystatechange = empty;\n      clearTimeout(abortTimeout);\n      var result;\n      var dataType;\n      if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304 || xhr.status === 0) {\n        if (xhr.responseType === 'arraybuffer' || xhr.responseType === 'blob') {\n          result = xhr.response;\n        } else {\n          result = xhr.responseText;\n          dataType = opt.dataType ? opt.dataType : xhr.getResponseHeader('content-type').split('', 1)[0];\n          for (var i in accepts) {\n            if (accepts.hasOwnProperty(i) && accepts[i].indexOf(dataType) > -1) {\n              dataType = i;\n            }\n          }\n          try {\n            if (dataType === 'script') {\n              console.log('不允许执行script代码');\n            } else if (dataType === 'xml') {\n              result = xhr.responseXML;\n            } else if (dataType === 'json') {\n              result = result.trim() === '' ? null : JSON.parse(result);\n            }\n          } catch (e) {\n            opt.error(e, xhr);\n            xhr.abort();\n          }\n        }\n        opt.success(result, xhr);\n      } else {\n        opt.error(xhr.statusText, xhr);\n      }\n    }\n  };\n\n  if (opt.method === 'GET') {\n    opt.url = opt.url + '?' + obj2Url(opt.data);\n  }\n  xhr.open(opt.method, opt.url, opt.sync, opt.username, opt.password);\n\n  // xhr.setRequestHeader('Accept', 'application/json')\n  // xhr.setRequestHeader('Content-Type', 'application/json')\n  if (opt.timeout > 0) {\n    abortTimeout = setTimeout(function () {\n      xhr.onreadystatechange = empty;\n      xhr.abort();\n      opt.error('timeout', xhr);\n    }, opt.timeout);\n  }\n  xhr.send(opt.method === 'POST' ? __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(opt.data) : obj2Url(opt.data));\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  ajax: ajax\n});\n\n/***/ })\n\n},[\"Oqbq\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/views/index.ae0840d2f8b63b42333c.js","import {ottRequest, obj2Url} from '../utils/utils'\r\nimport api from '../utils/api'\r\n\r\n/**\r\n * 添加病人\r\n * @author yang.xiaolong\r\n * @description 2018-3-14\r\n * @version     1.0.0\r\n * @param       {object} payload\r\n * @param       {function} resolve\r\n * @param       {function} reject\r\n * @return      {null}\r\n */\r\nexport const addCase = (payload, resolve, reject) => {\r\n  ottRequest(api.baseUrl + api.addCase + '?' + obj2Url(payload), {}, 'POST', resolve, reject)\r\n}\r\n\r\n/**\r\n * 获取问诊结果\r\n * @author yang.xiaolong\r\n * @description 2018-3-14\r\n * @version     1.0.0\r\n * @param       {object} payload\r\n * @param       {function} resolve\r\n * @param       {function} reject\r\n * @return      {null}\r\n */\r\nexport const getInquiryRecord = (payload, resolve, reject) => {\r\n  ottRequest(api.baseUrl + api.getInquiryRecord + '?' + obj2Url(payload), {}, 'POST', resolve, reject)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"header\"},[_vm._v(\"自助诊疗\")]),_vm._v(\" \"),_c('div',{staticClass:\"body\",staticStyle:{\"background\":\"url('../static/bg.jpg')\"}},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"row clearfix\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"患者选择\")]),_vm._v(\" \"),_c('div',{staticClass:\"input change-type\"},[_c('div',{staticClass:\"value\",class:{active:_vm.current=='type'},domProps:{\"innerHTML\":_vm._s(_vm.type?'代述':'自己')}})])]),_vm._v(\" \"),_c('div',{staticClass:\"row clearfix\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"性别\")]),_vm._v(\" \"),_c('div',{staticClass:\"input change-type\"},[_c('div',{staticClass:\"value\",class:{active:_vm.current=='sex'},domProps:{\"innerHTML\":_vm._s(_vm.sex?'女':'男')}})])]),_vm._v(\" \"),_c('div',{staticClass:\"row clearfix\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"出生日期\")]),_vm._v(\" \"),_c('div',{staticClass:\"input select-type\"},[_c('div',{staticClass:\"value\",class:{active:_vm.current=='birthdate'},domProps:{\"innerHTML\":_vm._s(_vm.birthdate)}})])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"button\",class:{active:_vm.current=='button'}},[_vm._v(\"开始诊断\")])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.now==='birthdate'),expression:\"now==='birthdate'\"}],staticClass:\"birthdate-select\"},[_c('div',{staticClass:\"birthdate-body\"},[_c('div',{staticClass:\"year\"},[_c('div',{staticClass:\"title\",class:{active:_vm.birthdateCurrent=='year'}},[_vm._v(\"年\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content\"},[_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s(_vm.year - 6 + n)}})}),_vm._v(\" \"),_c('li',{staticClass:\"active\",domProps:{\"innerHTML\":_vm._s(_vm.year)}}),_vm._v(\" \"),_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s((_vm.year + n) <= _vm.maxYear ? (_vm.year + n) : '')}})})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"month\"},[_c('div',{staticClass:\"title\",class:{active:_vm.birthdateCurrent=='month'}},[_vm._v(\"月\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content\"},[_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s((_vm.month - 6 + n) > 0 ? (_vm.month - 6 + n) : '')}})}),_vm._v(\" \"),_c('li',{staticClass:\"active\",domProps:{\"innerHTML\":_vm._s(_vm.month)}}),_vm._v(\" \"),_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s((_vm.month + n) <= 12 ? (_vm.month + n) : '')}})})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"day\"},[_c('div',{staticClass:\"title\",class:{active:_vm.birthdateCurrent=='day'}},[_vm._v(\"日\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content\"},[_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s((_vm.day - 6 + n) > 0 ? (_vm.day - 6 + n) : '')}})}),_vm._v(\" \"),_c('li',{staticClass:\"active\",domProps:{\"innerHTML\":_vm._s(_vm.day)}}),_vm._v(\" \"),_vm._l((5),function(n){return _c('li',{domProps:{\"innerHTML\":_vm._s((_vm.day + n) <= _vm.maxDay ? (_vm.day + n) : '')}})})],2)])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qrcode),expression:\"qrcode\"}],staticClass:\"birthdate-select\"},[_c('div',{staticClass:\"code-result\",domProps:{\"innerHTML\":_vm._s(_vm.qrcodeResult)}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"code\"}},[_c('img',{attrs:{\"src\":_vm.codeDataUrl,\"width\":\"250px\",\"height\":\"250px\"}})])]),_vm._v(\" \"),(_vm.debug)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage),expression:\"errorMessage\"}],staticClass:\"error\"},[_vm._v(\"\\r\\n    \"+_vm._s(_vm.errorMessage)+\"\\r\\n  \")]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f788b8ca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/index/App.vue\n// module id = 20Wj\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f788b8ca\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f788b8ca\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/index/App.vue\n// module id = 4u6v\n// module chunks = 2","import Vue from 'vue'\r\nimport App from './App.vue'\r\n\r\nconst app = new Vue({\r\n  el: '#app',\r\n  render: h => h(App)\r\n})\r\n\r\nVue.use({\r\n  app\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/index/index.js","module.exports = {\r\n  baseUrl: window.baseUrl || '',\r\n  addCase: '/fushionbaby-app/inquiry/addCase', // 添加病人\r\n  getInquiryRecord: '/fushionbaby-app/inquiry/getInquiryRecord' // 获取最新问诊结果\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api.js","<template>\r\n<div id=\"app\">\r\n  <div class=\"header\">自助诊疗</div>\r\n  <div class=\"body\" style=\"background: url('../static/bg.jpg');\">\r\n    <div class=\"content\">\r\n      <div class=\"row clearfix\">\r\n        <div class=\"label\">患者选择</div>\r\n        <div class=\"input change-type\">\r\n          <div class=\"value\" :class=\"{active:current=='type'}\" v-html=\"type?'代述':'自己'\"></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row clearfix\">\r\n        <div class=\"label\">性别</div>\r\n        <div class=\"input change-type\">\r\n          <div class=\"value\" :class=\"{active:current=='sex'}\" v-html=\"sex?'女':'男'\"></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row clearfix\">\r\n        <div class=\"label\">出生日期</div>\r\n        <div class=\"input select-type\">\r\n          <div class=\"value\" :class=\"{active:current=='birthdate'}\" v-html=\"birthdate\"></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"button\" :class=\"{active:current=='button'}\">开始诊断</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div v-show=\"now==='birthdate'\" class=\"birthdate-select\">\r\n    <div class=\"birthdate-body\">\r\n      <div class=\"year\">\r\n        <div class=\"title\" :class=\"{active:birthdateCurrent=='year'}\">年</div>\r\n        <ul class=\"content\">\r\n          <li v-for=\"n in 5\" v-html=\"year - 6 + n\"></li>\r\n          <li class=\"active\" v-html=\"year\"></li>\r\n          <li v-for=\"n in 5\" v-html=\"(year + n) <= maxYear ? (year + n) : ''\"></li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"month\">\r\n        <div class=\"title\" :class=\"{active:birthdateCurrent=='month'}\">月</div>\r\n        <ul class=\"content\">\r\n          <li v-for=\"n in 5\" v-html=\"(month - 6 + n) > 0 ? (month - 6 + n) : ''\"></li>\r\n          <li class=\"active\" v-html=\"month\"></li>\r\n          <li v-for=\"n in 5\" v-html=\"(month + n) <= 12 ? (month + n) : ''\"></li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"day\">\r\n        <div class=\"title\" :class=\"{active:birthdateCurrent=='day'}\">日</div>\r\n        <ul class=\"content\">\r\n          <li v-for=\"n in 5\" v-html=\"(day - 6 + n) > 0 ? (day - 6 + n) : ''\"></li>\r\n          <li class=\"active\" v-html=\"day\"></li>\r\n          <li v-for=\"n in 5\" v-html=\"(day + n) <= maxDay ? (day + n) : ''\"></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div v-show=\"qrcode\" class=\"birthdate-select\">\r\n    <div class=\"code-result\" v-html=\"qrcodeResult\"></div>\r\n    <div id=\"code\">\r\n      <img :src=\"codeDataUrl\" width=\"250px\" height=\"250px\"/>\r\n    </div>\r\n  </div>\r\n  <div v-if=\"debug\" v-show=\"errorMessage\" class=\"error\">\r\n    {{ errorMessage }}\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { getUrlKey, getNowFormatDate } from '../../utils/utils'\r\nimport { addCase, getInquiryRecord } from '../../service'\r\nimport QRCode from 'qrcode'\r\n\r\nconst now = new Date()\r\nexport default {\r\n  data() {\r\n    return {\r\n      debug: true,\r\n      errorMessage: '',\r\n      type: 0,\r\n      sex: 0,\r\n      birthdate: '',\r\n      current: 'type',\r\n      now: 'main',\r\n      list: ['type', 'sex', 'birthdate', 'button'],\r\n      year: now.getFullYear(),\r\n      month: now.getMonth() + 1,\r\n      day: now.getDay(),\r\n      maxYear: now.getFullYear(),\r\n      maxDay: 31,\r\n      birthdateCurrent: 'year',\r\n      qrcode: false,\r\n      qrcodeResult: '等待连接',\r\n      codeDataUrl: ''\r\n    }\r\n  },\r\n  created() {\r\n    const _this = this\r\n    const monthShow = this.month < 10 ? ('0' + this.month) : this.month\r\n    const dayShow = this.day < 10 ? ('0' + this.day) : this.day\r\n    this.birthdate = this.year + '-' + monthShow + '-' + dayShow\r\n    this.sid = getUrlKey('sid')\r\n    // 绑定按键\r\n    document.onkeydown = function(e) {\r\n      _this.changeKey(e.which)\r\n    }\r\n  },\r\n  methods: {\r\n    changeKey: function(key) {\r\n      const index = this.list.indexOf(this.current)\r\n      switch (key) {\r\n        case 38: // up\r\n          if (this.now === 'main') {\r\n            this.mainUp(index)\r\n          } else if (this.now === 'birthdate') {\r\n            this.birthdateUp()\r\n          }\r\n          break\r\n        case 40: // down\r\n          if (this.now === 'main') {\r\n            this.mainDown(index)\r\n          } else if (this.now === 'birthdate') {\r\n            this.birthdateDown()\r\n          }\r\n          break\r\n        case 39: // right\r\n          if (this.now === 'main' && this.current === 'birthdate') {\r\n            this.now = 'birthdate'\r\n          } else if (this.now === 'main') {\r\n            this.mainChange()\r\n          } else if (this.now === 'birthdate') {\r\n            this.birthdateChange('right')\r\n          }\r\n          break\r\n        case 37: // left\r\n          if (this.now === 'main') {\r\n            this.mainChange()\r\n          } else if (this.now === 'birthdate') {\r\n            this.birthdateChange('left')\r\n          }\r\n          break\r\n        case 13: // enter\r\n          if (this.now === 'birthdate') {\r\n            const monthShow = this.month < 10 ? ('0' + this.month) : this.month\r\n            const dayShow = this.day < 10 ? ('0' + this.day) : this.day\r\n            this.birthdate = this.year + '-' + monthShow + '-' + dayShow\r\n            this.now = 'main'\r\n          } else if (this.now === 'main' && this.current === 'birthdate') {\r\n            this.now = 'birthdate'\r\n          } else if (this.now === 'main' && this.current === 'button') {\r\n            const _this = this\r\n            addCase({\r\n              sid: this.sid,\r\n              sex: this.sex,\r\n              birthdate: this.birthdate,\r\n              type: this.type\r\n            }, function(result) {\r\n              const res = typeof result === 'string' ? JSON.parse(result) : result\r\n              if (res.responseCode === '0') {\r\n                localStorage.setItem('casecode', res.data.casecode)\r\n                localStorage.setItem('sessionid', res.data.sessionid)\r\n                localStorage.setItem('localDate', getNowFormatDate())\r\n\r\n                QRCode.toDataURL(JSON.stringify({\r\n                  'casecode': res.data.casecode,\r\n                  'sessionid': res.data.sessionid\r\n                }), function (err, url) {\r\n                  if (err) {\r\n                    _this.errorMessage = '生成二维码失败：' + err\r\n                  } else {\r\n                    _this.codeDataUrl = url\r\n                    _this.qrcode = true\r\n                    _this.getResult()\r\n                  }\r\n                })\r\n              } else {\r\n                _this.errorMessage = '请求结果返回错误，结果为：' + JSON.stringify(res)\r\n              }\r\n            }, function (err) {\r\n              _this.errorMessage = '请求服务器错误，错误日志为：' + err\r\n            })\r\n          }\r\n          break\r\n      }\r\n    },\r\n    mainUp: function(index) {\r\n      if (index > 0) {\r\n        this.current = this.list[index - 1]\r\n      }\r\n    },\r\n    mainDown: function(index) {\r\n      if (index < 3) {\r\n        this.current = this.list[index + 1]\r\n      }\r\n    },\r\n    mainChange: function() {\r\n      if (this.current === 'type') {\r\n        this.type = this.type ? 0 : 1\r\n      } else if (this.current === 'sex') {\r\n        this.sex = this.sex ? 0 : 1\r\n      }\r\n    },\r\n    birthdateUp: function() {\r\n      switch (this.birthdateCurrent) {\r\n        case 'year':\r\n          this.year = this.year - 1\r\n          break\r\n        case 'month':\r\n          this.month = this.month > 1 ? this.month - 1 : this.month\r\n          this.maxDay = new Date(this.year, this.month, 0).getDate()\r\n          this.day = this.day > this.maxDay ? this.maxDay : this.day\r\n          break\r\n        case 'day':\r\n          this.day = this.day > 1 ? this.day - 1 : this.day\r\n          break\r\n      }\r\n    },\r\n    birthdateDown: function() {\r\n      switch (this.birthdateCurrent) {\r\n        case 'year':\r\n          this.year = this.year < this.maxYear ? this.year + 1 : this.year\r\n          break\r\n        case 'month':\r\n          this.month = this.month < 12 ? this.month + 1 : this.month\r\n          this.maxDay = new Date(this.year, this.month, 0).getDate()\r\n          this.day = this.day > this.maxDay ? this.maxDay : this.day\r\n          break\r\n        case 'day':\r\n          this.day = this.day < this.maxDay ? this.day + 1 : this.day\r\n          break\r\n      }\r\n    },\r\n    birthdateChange: function(lr) {\r\n      if (this.birthdateCurrent === 'year') {\r\n        this.birthdateCurrent = lr === 'left' ? 'year' : 'month'\r\n      } else if (this.birthdateCurrent === 'month') {\r\n        this.birthdateCurrent = lr === 'left' ? 'year' : 'day'\r\n      } else if (this.birthdateCurrent === 'day') {\r\n        this.birthdateCurrent = lr === 'left' ? 'month' : 'day'\r\n      }\r\n    },\r\n    getResult: function() {\r\n      const sessionid = localStorage.getItem('sessionid')\r\n      const casecode = localStorage.getItem('casecode')\r\n      const _this = this\r\n      setInterval(function() {\r\n        getInquiryRecord({\r\n          sessionid,\r\n          casecode,\r\n          localDate: ''\r\n        }, function(result) {\r\n          const res = typeof result === 'string' ? JSON.parse(result) : result\r\n          if (res.responseCode === '0') {\r\n            if (res.data.finish === 'star' || res.data.finish === 'finish') {\r\n              _this.qrcodeResult = '设备已连接'\r\n              location.href = './result.html'\r\n            }\r\n          } else {\r\n            _this.errorMessage = '请求结果返回错误，结果为：' + JSON.stringify(res)\r\n          }\r\n        }, function (err) {\r\n          _this.errorMessage = '请求服务器错误，错误日志为：' + err\r\n        })\r\n      }, 3000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.header {\r\n  height: 50px;\r\n  background-color: #02bca4;\r\n  font-size: 30px;\r\n  text-align: center;\r\n}\r\n.body {\r\n  width: 1280px;\r\n  height: 670px;\r\n  padding-top: 120px;\r\n  box-sizing: border-box;\r\n}\r\n.content {\r\n  width: 500px;\r\n  margin: 0 auto;\r\n  background-color: rgba(0,0,0,0.3);\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n}\r\n.row .label {\r\n  width: 150px;\r\n  text-align: right;\r\n  float: left;\r\n}\r\n.row .input {\r\n  display: inline-flex;\r\n  text-align: right;\r\n  float: right;\r\n}\r\n.row .input .value{\r\n  width: 100px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n}\r\n.row .input .value.active{\r\n  color: #02bca4;\r\n}\r\n.change-type:before{\r\n  content: \"<\";\r\n}\r\n.change-type:after{\r\n  content: \">\";\r\n}\r\n.select-type::before{\r\n  content: \"\";\r\n  margin-right: 20px;\r\n}\r\n.select-type::after{\r\n  content: \">\";\r\n  margin-left: 10px;\r\n}\r\n.button{\r\n  width: 200px;\r\n  text-align: center;\r\n  margin: 50px auto 30px;\r\n  height: 60px;\r\n  line-height: 60px;\r\n  background-color: #ffffff;\r\n  color: #02bca4;\r\n  padding: 10 50px;\r\n  border-radius: 20px;\r\n}\r\n.button.active{\r\n  background-color: #02bca4;\r\n  color: #ffffff;\r\n}\r\n.birthdate-select {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 1280px;\r\n  height: 720px;\r\n  z-index: 999;\r\n  background-color: rgba(0,0,0,0.9);\r\n}\r\n.birthdate-body {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 450px;\r\n  height: 380px;\r\n  margin-left: -250px;\r\n  margin-top: -190px;\r\n  border-radius: 20px;\r\n  overflow: hidden;\r\n}\r\n.birthdate-body .year,\r\n.birthdate-body .month,\r\n.birthdate-body .day{\r\n  width: 150px;\r\n  float: left;\r\n  text-align: center;\r\n}\r\n.birthdate-body .year .title,\r\n.birthdate-body .month .title,\r\n.birthdate-body .day .title{\r\n  background-color: rgba(255,255,255,0.2);\r\n}\r\n.birthdate-body ul{\r\n    width: 150px;\r\n    height: 330px;\r\n    margin: 0;\r\n    padding: 0;\r\n    border-radius: 0;\r\n    background-color: rgba(255,255,255,0.3);\r\n}\r\n.birthdate-body ul li{\r\n  list-style: none;\r\n  font-size: 16px;\r\n  line-height: 30px;\r\n  height: 30px;\r\n}\r\n.birthdate-body .active {\r\n  color: #02bca4;\r\n}\r\n.code-result {\r\n  position: absolute;\r\n  text-align: center;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin-top: -190px;\r\n  margin-left: -48px;\r\n}\r\n#code {\r\n  position: absolute;\r\n  background-color: #ffffff;\r\n  text-align: center;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin-top: -125px;\r\n  margin-left: -125px;\r\n}\r\n#code img {\r\n  display: block;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/index/App.vue","import request from './request.js'\r\n\r\n/**\n * 获取localStorage中的值\n * @author yang.xiaolong\n * @description 2017-11-01:默认会对String类型进行解析,防止数据类型错误\n * @version     1.0.0\n * @param       {String} _key\n * @return      {Json}\n */\r\nexport const getLocal = function(_key) {\r\n  return JSON.parse(localStorage.getItem(_key))\r\n}\r\n\r\n/**\n * 设置localStorage\n * @author yang.xiaolong\n * @description 2017-11-01:默认会对json进行格式化操作,防止存入的为[object object]这种错误\n * @version     1.0.0\n * @param       {String} _key\n * @param       {Json} _value\n */\r\nexport const setLocal = function(_key, _value) {\r\n  localStorage.setItem(_key, JSON.stringify(_value))\r\n}\r\n\r\n/**\n * post方式获取数据\n * @author yang.xiaolong\n * @description 2017-10-25:需要传入服务Ip地址,参数对象,成功的函数,失败的处理函数\n * @version     1.0.0\n * @param       {String} _url\n * @param       {obj} _params\n * @param       {func} _success\n * @param       {func} _error\n * @return      {Null}\n */\r\nexport const ottRequest = function(_url, _params, _method, _success, _error) {\r\n  request.ajax({\r\n    'url': _url,\r\n    'data': _params,\r\n    'method': _method,\r\n    'dataType': 'json',\r\n    success: function(response) {\r\n      _success && _success(response)\r\n    },\r\n    error: function(err) {\r\n      _error && _error(err)\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 格式化当前日期\r\n * @author yang.xiaolong\r\n * @description 2018-03-14\r\n * @version     1.0.0\r\n * @return      {[type]}\r\n */\r\nexport const getNowFormatDate = function() {\r\n  var date = new Date()\r\n  var seperator1 = '-'\r\n  var seperator2 = ':'\r\n  var month = date.getMonth() + 1\r\n  var strDate = date.getDate()\r\n  if (month >= 1 && month <= 9) {\r\n    month = '0' + month\r\n  }\r\n  if (strDate >= 0 && strDate <= 9) {\r\n    strDate = '0' + strDate\r\n  }\r\n  var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate + ' ' + date.getHours() + seperator2 + date.getMinutes() + seperator2 + date.getSeconds()\r\n  return currentdate\r\n}\r\n\r\n/**\r\n * 获取url参数\r\n * @author yang.xiaolong\r\n * @description 2017-10-25:根据key值获取url路径上的value参数\r\n * @version     1.0.0\r\n * @param       {String} name\r\n * @return      {String}\r\n */\r\nexport const getUrlKey = function(name) {\r\n  var key = new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || ['']\r\n  return key.length > 1 ? decodeURIComponent(key[1].replace(/\\+/g, '%20')) || null : ''\r\n}\r\n/**\r\n * 格式化对象成url参数\r\n * @author yang.xiaolong\r\n * @description 2018-03-14\r\n * @version     1.0.0\r\n * @param       {Object} obj\r\n * @return      {String}\r\n */\r\nexport const obj2Url = function(obj) {\r\n  if (obj && obj instanceof Object) {\r\n    var arr = []\r\n    for (var i in obj) {\r\n      if (obj.hasOwnProperty(i)) {\r\n        if (i === 'token') continue\r\n        if (typeof obj[i] === 'function') {\r\n          obj[i] = obj[i]()\r\n        }\r\n        if (obj[i] === null) {\r\n          obj[i] = ''\r\n        }\r\n        arr.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]))\r\n      }\r\n    }\r\n    return arr.join('&')\r\n  } else {\r\n    return obj\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js","/**\r\n * 仿jquery的ajax请求\r\n * @author yang.xiaolong\r\n * @description 2017-10-25:使用方法和jquery类似\r\n * @version     1.0.0\r\n * @param       {obj} options\r\n * @return      {null}\r\n */\r\nfunction ajax(options) {\r\n  function empty() {}\r\n\r\n  function obj2Url(obj) {\r\n    if (obj && obj instanceof Object) {\r\n      var arr = []\r\n      for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n          if (i === 'token') {\r\n            continue\r\n          }\r\n          if (typeof obj[i] === 'function') {\r\n            obj[i] = obj[i]()\r\n          }\r\n          if (obj[i] === null) {\r\n            obj[i] = ''\r\n          }\r\n          arr.push(escape(i) + '=' + escape(obj[i]))\r\n        }\r\n      }\r\n      return arr.join('&')\r\n    } else {\r\n      return obj\r\n    }\r\n  }\r\n  var opt = {\r\n    url: '', // 请求地址\r\n    sync: true, // true，异步 | false 同步，会锁死浏览器，并且open方法会报浏览器警告\r\n    method: 'GET', // 提交方法\r\n    data: null, // 提交数据\r\n    username: null, // 账号\r\n    password: null, // 密码\r\n    dataType: null, // 返回数据类型\r\n    success: empty, // 成功返回回调\r\n    error: empty, // 错误信息回调\r\n    timeout: 0 // 请求超时ms\r\n  }\r\n  for (var i in options) {\r\n    if (options.hasOwnProperty(i)) {\r\n      opt[i] = options[i]\r\n    }\r\n  }\r\n\r\n  var accepts = {\r\n    script: 'text/javascript, application/javascript, application/x-javascript',\r\n    json: 'application/json',\r\n    xml: 'application/xml, text/xml',\r\n    html: 'text/html',\r\n    text: 'text/plain'\r\n  }\r\n  var abortTimeout = null\r\n  var xhr = new XMLHttpRequest()\r\n  xhr.onreadystatechange = function() {\r\n    if (xhr.readyState === 4) {\r\n      xhr.onreadystatechange = empty\r\n      clearTimeout(abortTimeout)\r\n      var result\r\n      var dataType\r\n      if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || xhr.status === 0) {\r\n        if (xhr.responseType === 'arraybuffer' || xhr.responseType === 'blob') {\r\n          result = xhr.response\r\n        } else {\r\n          result = xhr.responseText\r\n          dataType = opt.dataType\r\n            ? opt.dataType\r\n            : xhr.getResponseHeader('content-type').split('', 1)[0]\r\n          for (var i in accepts) {\r\n            if (accepts.hasOwnProperty(i) && accepts[i].indexOf(dataType) > -1) {\r\n              dataType = i\r\n            }\r\n          }\r\n          try {\r\n            if (dataType === 'script') {\r\n              console.log('不允许执行script代码')\r\n            } else if (dataType === 'xml') {\r\n              result = xhr.responseXML\r\n            } else if (dataType === 'json') {\r\n              result = result.trim() === ''\r\n                ? null\r\n                : JSON.parse(result)\r\n            }\r\n          } catch (e) {\r\n            opt.error(e, xhr)\r\n            xhr.abort()\r\n          }\r\n        }\r\n        opt.success(result, xhr)\r\n      } else {\r\n        opt.error(xhr.statusText, xhr)\r\n      }\r\n    }\r\n  }\r\n\r\n  if (opt.method === 'GET') {\r\n    opt.url = opt.url + '?' + obj2Url(opt.data)\r\n  }\r\n  xhr.open(opt.method, opt.url, opt.sync, opt.username, opt.password)\r\n\r\n  // xhr.setRequestHeader('Accept', 'application/json')\r\n  // xhr.setRequestHeader('Content-Type', 'application/json')\r\n  if (opt.timeout > 0) {\r\n    abortTimeout = setTimeout(function() {\r\n      xhr.onreadystatechange = empty\r\n      xhr.abort()\r\n      opt.error('timeout', xhr)\r\n    }, opt.timeout)\r\n  }\r\n  xhr.send(opt.method === 'POST'\r\n    ? JSON.stringify(opt.data)\r\n    : obj2Url(opt.data))\r\n}\r\n\r\nexport default {\r\n  ajax\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js"],"sourceRoot":""}