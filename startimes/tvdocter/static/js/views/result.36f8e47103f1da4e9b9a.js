webpackJsonp([1],{"/Fk8":function(t,e){},"0jG4":function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"b",function(){return r});var n=a("oAV5"),s=a("VsUZ"),i=a.n(s),o=function(t,e,a){Object(n.d)(i.a.baseUrl+i.a.addCase+"?"+Object(n.c)(t),{},"POST",e,a)},r=function(t,e,a){Object(n.d)(i.a.baseUrl+i.a.getInquiryRecord+"?"+Object(n.c)(t),{},"POST",e,a)}},BQ5I:function(t,e,a){t.exports=a.p+"static/img/user.35e732e.jpg"},GSX7:function(t,e,a){t.exports=a.p+"static/img/admin.7276b48.jpg"},MNbk:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"dialog-header"},[t._v("自助诊疗")]),t._v(" "),n("div",{staticClass:"dialog-body",staticStyle:{background:"url('../static/bg.jpg')",padding:"0"}},[n("div",{staticClass:"dialog",attrs:{id:"dialog"}},[t._l(t.resultList,function(e){return["response"==e.action||"upload_image"==e.action?n("div",{staticClass:"message me"},[n("img",{staticClass:"avatar",attrs:{src:a("BQ5I")}}),t._v(" "),n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"bubble bubble_primary right"},[n("div",{staticClass:"bubble_cont"},["response"==e.action||"取消上传"==e.content?n("div",{staticClass:"plain"},[t._v(t._s(e.content))]):t._e(),t._v(" "),"upload_image"==e.action&&"取消上传"!=e.content?n("img",{attrs:{src:e.content,height:"200px"}}):t._e()])])])]):t._e(),t._v(" "),"question"==e.action||"conclusion"==e.action?n("div",{staticClass:"message"},[n("img",{staticClass:"avatar",attrs:{src:a("GSX7")}}),t._v(" "),n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"bubble bubble_default left"},[n("div",{staticClass:"bubble_cont"},["question"==e.action?n("div",{staticClass:"plain"},[t._v(t._s(e.content))]):t._e(),t._v(" "),"conclusion"==e.action?n("div",{staticClass:"plain",domProps:{innerHTML:t._s(e.content)}}):t._e()])])])]):t._e()]})],2)]),t._v(" "),t.debug?n("div",{directives:[{name:"show",rawName:"v-show",value:t.errorMessage,expression:"errorMessage"}],staticClass:"error"},[t._v("\r\n    "+t._s(t.errorMessage)+"\r\n  ")]):t._e()])},s=[],i={render:n,staticRenderFns:s};e.a=i},NoX5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s=a("zRHb"),i=new n.a({el:"#app",render:function(t){return t(s.a)}});n.a.use({app:i})},VsUZ:function(t,e){t.exports={baseUrl:window.baseUrl||"",addCase:"/fushionbaby-app/inquiry/addCase",getInquiryRecord:"/fushionbaby-app/inquiry/getInquiryRecord"}},enU8:function(t,e,a){"use strict";var n=a("mvHQ"),s=a.n(n),i=a("0jG4"),o=null;e.a={data:function(){return{debug:!0,errorMessage:"",resultList:[]}},mounted:function(){this.sessionid=localStorage.getItem("sessionid"),this.casecode=localStorage.getItem("casecode"),this.localDate="",this.getResult()},updated:function(){var t=document.getElementById("dialog");t.scrollTop=t.scrollHeight},methods:{getResult:function(){var t=this;o=setInterval(function(){Object(i.b)({sessionid:t.sessionid,casecode:t.casecode,localDate:t.localDate},function(e){var a="string"==typeof e?JSON.parse(e):e;if("0"===a.responseCode){if("finish"===a.data.finish&&a.data.InquiryList.length>0)if(t.localDate===a.data.localDate)console.log("结果重复,跳过");else{t.localDate=a.data.localDate,t.resultList=t.resultList.concat(a.data.InquiryList);for(var n=0;n<a.data.InquiryList.length;n++){var i=a.data.InquiryList[n];"conclusion"===i.action&&clearInterval(o)}}}else t.errorMessage="请求结果返回错误，结果为："+s()(a)},function(e){t.errorMessage="请求服务器错误，错误日志为："+e})},3e3)}}}},oAV5:function(t,e,a){"use strict";a.d(e,"d",function(){return i}),a.d(e,"a",function(){return o}),a.d(e,"b",function(){return r}),a.d(e,"c",function(){return c});var n=a("mvHQ"),s=(a.n(n),a("vLgD")),i=function(t,e,a,n,i){s.a.ajax({url:t,data:e,method:a,dataType:"json",success:function(t){n&&n(t)},error:function(t){i&&i(t)}})},o=function(){var t=new Date,e=t.getMonth()+1,a=t.getDate();return e>=1&&e<=9&&(e="0"+e),a>=0&&a<=9&&(a="0"+a),t.getFullYear()+"-"+e+"-"+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},r=function(t){var e=new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[""];return e.length>1?decodeURIComponent(e[1].replace(/\+/g,"%20"))||null:""},c=function(t){if(t&&t instanceof Object){var e=[];for(var a in t)if(t.hasOwnProperty(a)){if("token"===a)continue;"function"==typeof t[a]&&(t[a]=t[a]()),null===t[a]&&(t[a]=""),e.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]))}return e.join("&")}return t}},vLgD:function(t,e,a){"use strict";function n(t){function e(){}function a(t){if(t&&t instanceof Object){var e=[];for(var a in t)if(t.hasOwnProperty(a)){if("token"===a)continue;"function"==typeof t[a]&&(t[a]=t[a]()),null===t[a]&&(t[a]=""),e.push(escape(a)+"="+escape(t[a]))}return e.join("&")}return t}var n={url:"",sync:!0,method:"GET",data:null,username:null,password:null,dataType:null,success:e,error:e,timeout:0};for(var s in t)t.hasOwnProperty(s)&&(n[s]=t[s]);var o={script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},r=null,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){c.onreadystatechange=e,clearTimeout(r);var t,a;if(c.status>=200&&c.status<300||304===c.status||0===c.status){if("arraybuffer"===c.responseType||"blob"===c.responseType)t=c.response;else{t=c.responseText,a=n.dataType?n.dataType:c.getResponseHeader("content-type").split("",1)[0];for(var s in o)o.hasOwnProperty(s)&&o[s].indexOf(a)>-1&&(a=s);try{"script"===a?console.log("不允许执行script代码"):"xml"===a?t=c.responseXML:"json"===a&&(t=""===t.trim()?null:JSON.parse(t))}catch(t){n.error(t,c),c.abort()}}n.success(t,c)}else n.error(c.statusText,c)}},"GET"===n.method&&(n.url=n.url+"?"+a(n.data)),c.open(n.method,n.url,n.sync,n.username,n.password),n.timeout>0&&(r=setTimeout(function(){c.onreadystatechange=e,c.abort(),n.error("timeout",c)},n.timeout)),c.send("POST"===n.method?i()(n.data):a(n.data))}var s=a("mvHQ"),i=a.n(s);e.a={ajax:n}},zRHb:function(t,e,a){"use strict";function n(t){a("/Fk8")}var s=a("enU8"),i=a("MNbk"),o=a("VU/8"),r=n,c=o(s.a,i.a,!1,r,null,null);e.a=c.exports}},["NoX5"]);